import{_ as w,o as a,c as n,a as e,v as Y,x as ee,k as i,N as j,y as te,w as V,B as se,u as s,A as E,e as y,t as c,D as le,f as H,j as T,M as Z,O as B,Q as L,F as q,h as C,G as oe,H as ae}from"./index-ab0d9c81.js";const ne={},ie={class:"swap-on"},ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"100%",height:"100%"},[e("path",{d:"M6 5H8V19H6V5ZM16 5H18V19H16V5Z"})],-1),ue=[ce];function re(p,h){return a(),n("i",ie,ue)}const de=w(ne,[["render",re]]),_e={},pe={class:"swap-off"},ve=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"100%",height:"100%"},[e("path",{d:"M19.376 12.4158L8.77735 19.4816C8.54759 19.6348 8.23715 19.5727 8.08397 19.3429C8.02922 19.2608 8 19.1643 8 19.0656V4.93408C8 4.65794 8.22386 4.43408 8.5 4.43408C8.59871 4.43408 8.69522 4.4633 8.77735 4.51806L19.376 11.5838C19.6057 11.737 19.6678 12.0474 19.5146 12.2772C19.478 12.3321 19.4309 12.3792 19.376 12.4158Z"})],-1),fe=[ve];function he(p,h){return a(),n("i",pe,fe)}const ge=w(_e,[["render",he]]),me={},ye={xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"100%",height:"100%"},we=e("path",{d:"M8 12L14 6V18L8 12Z"},null,-1),be=[we];function xe(p,h){return a(),n("svg",ye,be)}const ke=w(me,[["render",xe]]),$e={},Ve={xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"100%",height:"100%"},Me=e("path",{d:"M16 12L10 18V6L16 12Z"},null,-1),Be=[Me];function Le(p,h){return a(),n("svg",Ve,Be)}const qe=w($e,[["render",Le]]);const _=p=>(oe("data-v-74a12d75"),p=p(),ae(),p),Ce={class:"w-full relative c-bg-3 min-w-[400px] aspect-video group overflow-hidden"},Pe={class:"absolute w-full h-full aspect-video top-0 right-0"},Se={class:"w-full h-5/6 flex flex-wrap justify-end items-center relative z-50"},Ie=_(()=>e("i",{class:"ri-close-line fa-lg"},null,-1)),Ne=[Ie],je=_(()=>e("div",{class:"w-full grid place-items-center mt-20"},[e("span",{class:"loading loading-ring loading-lg self-center scale-150"})],-1)),Ee={key:0,class:"w-full relative"},He=_(()=>e("kbd",{class:"kbd kbd-sm"},"▶️playing:",-1)),Te=_(()=>e("kbd",{class:"kbd kbd-sm"},"▶️audio:",-1)),Ze=_(()=>e("kbd",{class:"kbd kbd-sm"},"▶️video:",-1)),ze=_(()=>e("kbd",{class:"kbd kbd-sm"},"▶️speed:",-1)),Ae=_(()=>e("kbd",{class:"kbd kbd-sm"},"current_time:",-1)),Fe=_(()=>e("div",{class:"w-full"},[e("input",{type:"range",min:"0",max:"100",value:"0",class:"range_ w-full"})],-1)),De={class:"w-full flex justify-between items-center"},Ue={class:"h-10 flex"},Qe=_(()=>e("span",{class:"flex gap-4 flex-grow justify-center items-center group ml-4"},[e("i",{class:"ri-volume-up-fill fa-lg text-base-100"}),e("input",{type:"range",min:"0",max:"10",value:"10",class:"range_ range_2 hidden group-hover:block w-12"})],-1)),Re={class:"grid place-items-center px-4"},Ge={class:"text-xs text-base-100"},Oe={class:"h-full flex items-center"},Je={class:"rounded overflow-hidden"},Ke=["value"],We=["value"],Xe=["value"],Ye={__name:"MasterPlayer2",emits:["terminate"],setup(p,{emit:h}){const P=Y(),{stream:z,getVidId:A,getVideoFiles:b,getAudioFiles:x,getMediaLength:et,mediaLength:F}=ee(P),{setStream:D}=P,M=i(!1),u=i(),r=i(),v=i(),f=i(),k=i(1),g=i(!1),U=i(!1);i();const S=i(0),Q=[.25,.5,.75,1,1.25,1.5,1.75,2];let I=!1;const R=j(()=>{var l;return(l=b.value)==null?void 0:l.map(o=>o.quality)}),G=j(()=>{var l;return(l=x.value)==null?void 0:l.map(o=>o.quality)});te(()=>{console.log("Master Player Mounted - 🚞🌋"),z.value===null&&D(A.value),setTimeout(()=>{console.log(v.value),console.log(f.value)}),r.value.addEventListener("seeking",function(){$=!0}),r.value.addEventListener("seeked",function(){$=!1}),u.value.addEventListener("seeking",function(){$=!0}),u.value.addEventListener("seeked",function(){$=!1})});const O=()=>{var l,o;v.value=(l=b.value)==null?void 0:l.map(d=>d.quality).pop(),f.value=(o=x.value)==null?void 0:o.map(d=>d.quality).pop()},J=()=>{var l,o,d,m;u.value.src=(o=(l=b.value)==null?void 0:l.filter(t=>t.quality===v.value)[0])==null?void 0:o.url,r.value.src=(m=(d=x.value)==null?void 0:d.filter(t=>t.quality===f.value)[0])==null?void 0:m.url,I=!0,r.value.load(),u.value.load()},K=()=>{I||J(),g.value?N():W()},W=()=>{try{u.value.play(),r.value.play(),g.value=!0}catch(l){console.log(l)}},N=()=>{try{u.value.pause(),r.value.pause(),g.value=!1}catch(l){console.log(l)}},X=()=>{N(),u.value.removeAttribute("src"),r.value.removeAttribute("src"),r.value.load(),u.value.load(),h("terminate")};let $=!1;return(l,o)=>{var d,m;return a(),n("div",Ce,[e("div",Pe,[e("video",{ref_key:"video_player",ref:u,class:"w-full max-w-5xl"},null,512),e("audio",{ref_key:"audio_player",ref:r},null,512)]),V(e("div",Se,[e("button",{onClick:X,class:"aspect-square w-7 bg-base-100 hover:bg-red-700 z-[60] bg-opacity-25 m-1 rounded-full self-start absolute opacity-0 group-hover:opacity-100 duration-200"},Ne),je],512),[[se,!s(U)]]),e("div",{class:E(["w-full h-full absolute top-0 right-0 flex items-end z-20",s(M)?"":" transition-all duration-200"])},[e("div",{class:E(["w-full bg-base-100 bg-opacity-20 rounded flex justify-between flex-col gap-2 p-2",s(M)?"":"opacity-0  group-hover:opacity-100 duration-300 group-hover:translate-y-0 translate-y-full"])},[s(M)?(a(),n("div",Ee,[e("p",null,[He,y(" "+c(s(g)),1)]),e("p",null,[Te,y(" "+c((d=s(x))==null?void 0:d.map(t=>t.quality).pop()),1)]),e("p",null,[Ze,y(" "+c((m=s(b))==null?void 0:m.map(t=>t.quality).pop()),1)]),e("p",null,[ze,y(" "+c(s(k)),1)]),e("p",null,[Ae,y(" "+c(s(S)),1)])])):le("",!0),Fe,e("div",De,[e("span",Ue,[e("button",null,[H(ke)]),e("button",{onClick:K,class:"h-10 w-10"},[s(g)?(a(),T(de,{key:0})):(a(),T(ge,{key:1}))]),e("button",null,[H(qe)]),Qe,e("span",Re,[e("h5",Ge,c(s(Z)(s(S)))+" "+c(s(Z)(s(F))),1)])]),e("span",Oe,[e("span",Je,[V(e("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>L(v)?v.value=t:null),class:"select rounded-none bg-opacity-10 outline-none border-0 select-xs focus:outline-none"},[(a(!0),n(q,null,C(s(R),t=>(a(),n("option",{class:"bg-base-300",value:t},c(t),9,Ke))),256))],512),[[B,s(v)]]),V(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>L(f)?f.value=t:null),class:"select rounded-none bg-opacity-10 outline-none border-0 select-xs focus:outline-none"},[(a(!0),n(q,null,C(s(G),t=>(a(),n("option",{class:"bg-base-300",value:t,selected:""},c(t),9,We))),256))],512),[[B,s(f)]]),V(e("select",{"onUpdate:modelValue":o[2]||(o[2]=t=>L(k)?k.value=t:null),class:"select rounded-none bg-opacity-10 outline-none border-0 select-xs focus:outline-none"},[(a(),n(q,null,C(Q,t=>e("option",{class:"bg-base-300",value:t},c(t),9,Xe)),64))],512),[[B,s(k)]])])])])],2)],2)])}}},st=w(Ye,[["__scopeId","data-v-74a12d75"]]);export{st as default};
